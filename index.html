<!DOCTYPE html>
<html class="dark" lang="pt-br">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <meta
            name="description"
            content="Site pessoal de José Zeito, um desenvolvedor front-end focado em HTML, CSS, JavaScript, React e mais."
        />
        <meta
            name="keywords"
            content="José Zeito, JoZeito, jozeito.dev, desenvolvedor front-end, HTML, CSS, JavaScript, React, Angular, Tailwind, Bootstrap"
        />
        <meta name="author" content="José Zeito" />

        <meta property="og:title" content="JoZeito - Desenvolvedor Front-end" />
        <meta
            property="og:description"
            content="Site pessoal de José Zeito, um desenvolvedor front-end especializado em HTML, CSS, JavaScript, e mais."
        />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.jozeito.vercel.app" />
        <meta property="og:image" content="public/favicon.png" />

        <meta name="twitter:card" content="summary_large_image" />
        <meta
            name="twitter:title"
            content="JoZeito - Desenvolvedor Front-end"
        />

        <link
            rel="icon"
            type="image/svg+xml"
            href="/favicon.png"
            alt="Ícone de José Zeito"
        />

        <style>
            @keyframes background {
                from {
                    opacity: 0;
                }
                to {
                    opacity: 1;
                }
            }
            body {
                overflow-x: hidden;
            }

            .geral-bg {
                position: relative;
                height: 100%;
                width: 100%;
            }
            .bg-wrapper {
                opacity: 0;
                position: fixed;
                top: 0;
                left: 0;
                height: 100vh;
                width: 100vw;
                backdrop-filter: blur(30px);
                z-index: -1;
                animation-duration: 2s;
                animation-timing-function: ease-in-out;
                animation-name: background;
                animation-delay: 3s;
                animation-fill-mode: forwards;

            }

            .geral-bg {
                z-index: -1;
                height: 100vh;
                width: 100vw;
                overflow: hidden;
                position: relative;
            }

            .dot {
                z-index: -1;
                filter: blur(80px);
                opacity: 0.4;
                border-radius: 50%;
                aspect-ratio: 1/1;
                position: absolute;
                background-color: var(--green);
            }

            html.dark .dot {
                opacity: 0.3;
                filter: blur(70px);
                background-color: white;
            }

            .dot:nth-of-type(1) {
                width: 230px;
            }
            .dot:nth-of-type(2) {
                width: 300px;
            }
            .dot:nth-of-type(3) {
                width: 350px;
            }
            .dot:nth-of-type(4) {
                width: 150px;
            }
        </style>

        <title>JoZeito</title>
    </head>
    <body
        id="root"
        class="antialiased pt-10 bg-white dark:bg-black text-zinc-900 dark:text-zinc-100 max-md:w-[80vw] w-[660px] transition text-sm"
    >
        <div class="bg-wrapper">
            <div class="geral-bg"></div>
        </div>

        <script>
            if (true) {
                const body = document.querySelector(".geral-bg");
                const dotsNumber = window.innerWidth < 1000 ? 1 : 3;

                // Criação dos dots
                for (let i = 0; i < dotsNumber; i++) {
                    const newDot = document.createElement("div");
                    newDot.style.width = Math.random() * 200 + 100 + "px";
                    newDot.classList.add("dot");
                    body.appendChild(newDot);
                }

                // Variáveis de viewport (evita calcular toda hora — muita performance!)
                let vw = window.innerWidth;
                let vh = window.innerHeight;

                window.addEventListener("resize", () => {
                    vw = window.innerWidth;
                    vh = window.innerHeight;
                });

                // Função de animação mais leve
                function animateDot(dot) {
                    // posição inicial
                    if (!dot.dataset.init) {
                        dot.style.left = Math.random() * (vw - 50) + "px";
                        dot.style.top = Math.random() * (vh - 50) + "px";
                        dot.dataset.init = "true";
                    }

                    const startLeft = dot.style.left;
                    const startTop = dot.style.top;

                    const endLeft = Math.random() * (vw - 50) + "px";
                    const endTop = Math.random() * (vh - 50) + "px";

                    // animação via Web Animations (já é leve)
                    const animation = dot.animate(
                        [
                            { left: startLeft, top: startTop },
                            { left: endLeft, top: endTop },
                        ],
                        {
                            duration: 3000 + Math.random() * 2000,
                            easing: "ease-in-out",
                            fill: "both",
                        }
                    );

                    // O truque que deixa mais leve: requestAnimationFrame ao invés de setTimeout
                    animation.finished.then(() => {
                        dot.style.left = endLeft;
                        dot.style.top = endTop;

                        requestAnimationFrame(() => animateDot(dot));
                    });
                }

                const dots = document.querySelectorAll(".dot");
                dots.forEach((dot, i) => {
                    setTimeout(() => animateDot(dot), i * 500);
                });
            }
        </script>

        <div class="App" id="App"></div>

        <script type="module" src="/src/main.jsx"></script>
    </body>
</html>
